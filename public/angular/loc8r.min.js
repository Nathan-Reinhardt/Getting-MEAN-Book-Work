(function(){angular.module("loc8rApp",["ngRoute","ngSanitize"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"/common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).when("/location/:locationid",{templateUrl:"/locationDetail/locationDetail.view.html",controller:"locationDetailCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("loc8rApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("loc8rApp").controller("homeCtrl",e);e.$inject=["$scope","loc8rData","geolocation"];function e(e,t,o){var n=this;n.pageHeader={title:"Loc8r",strapline:"Find places to work with wifi near you!"};n.sidebar={content:"Looking for wifi and a seat? Loc8r helps you find places to work when out and about. Perhaps with coffee, cake or a pint? Let Loc8r help you find the place you're looking for."};n.message="Checking your location";n.getData=function(e){var o=e.coords.latitude,a=e.coords.longitude;n.message="Searching for nearby places";t.locationByCoords(o,a).success(function(e){n.message=e.length>0?"":"No locations found nearby";n.data={locations:e};console.log(n.data)}).error(function(e){n.message="Sorry, something's gone wrong, please try again later"})};n.showError=function(t){e.$apply(function(){n.message=t.message})};n.noGeo=function(){e.$apply(function(){n.message="Geolocation is not supported by this browser."})};o.getPosition(n.getData,n.showError,n.noGeo)}})();(function(){angular.module("loc8rApp").controller("aboutCtrl",e);function e(){var e=this;e.pageHeader={title:"About Loc8r"};e.main={content:"Loc8r was created to help people find places to sit down and get a bit of work done.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi et mattis augue. Praesent ornare eget ipsum sit amet finibus. Maecenas vehicula ac tellus a mattis. Morbi consequat ultrices massa sodales tristique. Donec commodo nulla nec enim interdum condimentum. Pellentesque maximus nulla mi, sed accumsan neque semper et. Aliquam vestibulum placerat lobortis. Morbi sit amet urna ut mauris rutrum tristique ac non tellus. Curabitur congue pellentesque turpis sit amet lobortis. Maecenas maximus congue justo, vel dapibus sapien rutrum sit amet. Aliquam erat volutpat. Cras mattis lacus sed velit ornare, vel vestibulum metus dictum. Mauris eget tellus purus.\n\nNullam malesuada posuere tortor et dapibus. Donec lorem augue, fermentum ut enim at, iaculis bibendum ex. Duis sit amet feugiat justo, vitae ultricies nibh. Integer dictum urna nec sodales egestas. Donec in molestie nibh, vitae."}}})();(function(){angular.module("loc8rApp").service("geolocation",e);function e(){var e=function(e,t,o){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e,t)}else{o()}};return{getPosition:e}}})();(function(){angular.module("loc8rApp").service("loc8rData",e);e.$inject=["$http"];function e(e){var t=function(t,o){return e.get("/api/locations?lng="+o+"&lat="+t+"&maxDistance=20000")};return{locationByCoords:t}}})();(function(){angular.module("loc8rApp").filter("formatDistance",t);var e=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};function t(){return function(t){var o,n;if(t&&e(t)){if(t>1e3){o=parseFloat(t/1e3).toFixed(1);n="km"}else{o=parseInt(t,10);n="m"}return o+n}else{return"?"}}}})();(function(){angular.module("loc8rApp").directive("ratingStars",e);function e(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}}})();(function(){angular.module("loc8rApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/âž¥ footerGeneric.template.html"}}})();(function(){angular.module("loc8rApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("loc8rApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("loc8rApp").filter("addHtmlLineBreaks",e);function e(){return function(e){var t=e.replace(/\n/g,"<br/>");return t}}})();(function(){angular.module("loc8rApp").controller("locationDetailCtrl",e);e.$inject=["$routeParams","loc8rData"];function e(e,t){var o=this;o.locationid=e.locationid;t.locationById(o.locationid).success(function(e){o.data={location:e};o.pageHeader={title:o.data.location.name}}).error(function(e){console.log(e)})}})();